<section class="topic-page section">
  <div class="container">
    
    {{!-- Page Header  --}}
    <header class="page-header fade-in-up">
      <div>     
        <h1>
          {{topic.name}}
          {{#if topic.internal}}
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" focusable="false" viewBox="0 0 16 16" class="icon-lock" title="{{t 'internal'}}">
              <rect width="12" height="9" x="2" y="7" fill="currentColor" rx="1" ry="1"/>
              <path fill="none" stroke="currentColor" d="M4.5 7.5V4a3.5 3.5 0 017 0v3.5"/>
            </svg>
          {{/if}}
        </h1>
        {{#if topic.description}}
          <p class="page-header-description fade-in-up">{{topic.description}}</p>
        {{/if}}
      </div>
      {{#if settings.show_follow_topic}}
        <div class="community-follow">
          {{subscribe}}
        </div>
      {{/if}}
    </header>

    <div class="topic-header fade-in-up">
      <span class="topic-filters">
        <span class="dropdown">
          <button class="dropdown-toggle" aria-haspopup="true">
            {{current_filter.label}}
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M7.99984 3.3335L7.99984 12.6668M7.99984 12.6668L12.6665 8.00016M7.99984 12.6668L3.33317 8.00016" stroke="#535862" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <span class="dropdown-menu" role="menu">
            {{#each filters}}
              <a href="{{url}}" aria-checked="{{selected}}" role="menuitemradio">
                {{name}}
              </a>
            {{/each}}
          </span>
        </span>
        <span class="dropdown">
          <button class="dropdown-toggle" aria-haspopup="true">
            {{current_sorter.label}}
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M7.99984 3.3335L7.99984 12.6668M7.99984 12.6668L12.6665 8.00016M7.99984 12.6668L3.33317 8.00016" stroke="#535862" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <span class="dropdown-menu" role="menu">
            {{#each sorters}}
              <a href="{{url}}" aria-checked="{{selected}}" role="menuitemradio">
                {{name}}
              </a>
            {{/each}}
          </span>
        </span>
      </span>
      <span class="post-to-community">
        {{link 'new_post' topic_id=topic.id class='button button-primary'}}
      </span>
    </div>

    {{!-- Main Content  --}}
    <div id="main-content" class="posts-list striped-list">
      {{#each posts}}
        <section class="posts-item fade-in-up" role="region" aria-labelledby="title-{{id}}">
          <div class="striped-list-item {{#if featured}}post-featured{{/if}}">
            <span class="striped-list-info">
              <a href="{{url}}" id="title-{{id}}" class="striped-list-title"><h6>{{title}}</h6></a>
              <span class="post-overview-item">
                {{#if pinned}}
                  <span class="status-label status-label-pinned">{{t 'pinned'}}</span>
                {{/if}}

                {{#if featured}}
                  <span class="status-label status-label-featured">{{t 'featured'}}</span>
                {{/if}}

                {{#is status 'none'}}
                {{else}}
                  <span class="status-label-{{status_dasherized}} status-label striped-list-status">{{status_name}}</span>
                {{/is}}
              </span>

              <div class="meta-group">
                {{#link 'user_profile' class="meta-data" id=author.id}}{{author.name}}{{/link}}
                {{#if editor}}
                  <span class="meta-data">{{date edited_at timeago=true}}</span>
                  <span class="meta-data">{{t 'edited'}}</span>
                {{else}}
                  <span class="meta-data">{{date created_at timeago=true}}</span>
                {{/if}}
              </div>
            </span>

            <div class="post-overview-count striped-list-count">
              <span class="striped-list-count-item">
                <span class="striped-list-number">{{vote_sum}}</span>
                {{t 'vote' count=vote_sum}}
              </span>
              <span class="striped-list-count-item">
                <span class="striped-list-number">{{comment_count}}</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" focusable="false" viewBox="0 0 12 12">
                  <path fill="none" stroke="currentColor" d="M1 .5h10c.3 0 .5.2.5.5v7c0 .3-.2.5-.5.5H6l-2.6 2.6c-.3.3-.9.1-.9-.4V8.5H1C.7 8.5.5 8.3.5 8V1C.5.7.7.5 1 .5z"></path>
                </svg>
              </span>
            </div>
          </div>
        </section>
      {{/each}}
    </div>
    {{pagination}}
  </div>

  <svg class="waves" xmlns="http://www.w3.org/2000/svg" width="1440" height="556" viewBox="0 0 1440 556" fill="none">
    <path d="M52.2255 -11.4183C173.847 79.3867 302.692 113.505 443.845 51.024C584.998 -11.457 738.46 -170.537 873.919 -188.331C1009.38 -206.124 1126.83 -82.6315 1252.34 -22.3216C1321.34 10.8331 1392.77 24.8931 1466 24.7996L1466 -476.939C1437.57 -479.152 1409.14 -481.279 1380.77 -482.542C1301.84 -486.055 1223.32 -482.879 1144.98 -476.68C1066.64 -470.481 988.493 -461.259 912.95 -409.358C837.407 -357.457 764.473 -262.878 689.075 -208.606C613.677 -154.334 535.815 -140.37 456.591 -148.696C377.366 -157.021 296.779 -187.636 215.192 -234.608C141.906 -276.801 67.813 -332.192 4.16785e-05 -363.575L6.87395e-05 -54.033C17.1561 -38.9035 34.6152 -24.5666 52.2255 -11.4183Z" fill="url(#paint0_linear_52_2444)" fill-opacity="0.2"/>
    <path d="M713.644 156.703C586.252 200.367 476.21 372.08 354.306 456.244C244.618 531.974 125.326 536.823 0.000116925 497.142L0.00012207 556L1466 556L1466 182.675C1355.88 228.286 1242.27 248.209 1122.76 224.547C985.778 197.425 841.036 113.039 713.644 156.703Z" fill="url(#paint1_linear_52_2444)" fill-opacity="0.2"/>
    <path d="M443.715 50.7303C302.698 113.151 173.976 79.0823 52.4177 -11.6757C34.8526 -24.7903 17.4368 -39.0887 0.321358 -54.178L0.321331 -363.072C34.0684 -347.407 69.373 -325.815 105.371 -302.874C113.443 -297.73 121.551 -292.518 129.683 -287.289C157.973 -269.101 186.564 -250.719 215.032 -234.33C296.644 -187.343 377.274 -156.708 456.557 -148.376C535.848 -140.044 613.792 -154.021 689.263 -208.345C725.906 -234.721 761.962 -270.606 797.995 -306.469L801.185 -309.643C838.29 -346.564 875.389 -383.162 913.132 -409.093C988.599 -460.942 1066.67 -470.161 1145.01 -476.359C1223.34 -482.558 1301.84 -485.733 1380.76 -482.221C1409.02 -480.963 1437.35 -478.846 1465.68 -476.642L1465.68 24.4787C1392.6 24.5307 1321.33 10.472 1252.48 -22.6111C1221.12 -37.6795 1190.26 -56.6968 1159.49 -76.4762C1152.23 -81.1433 1144.97 -85.8531 1137.71 -90.5634C1114.21 -105.812 1090.71 -121.065 1067.02 -134.892C1005.02 -171.089 941.717 -197.56 873.877 -188.649C806.06 -179.741 733.77 -135.475 660.836 -85.6763C647.127 -76.316 633.395 -66.7599 619.665 -57.2051C560.318 -15.9056 501.002 25.3722 443.715 50.7303ZM354.488 456.508C404.019 422.312 451.593 373.67 499.14 325.055C510.135 313.813 521.128 302.572 532.144 291.512C590.822 232.601 650.132 178.811 713.748 157.007C777.348 135.207 845.302 145.365 914.521 164.39C940.96 171.657 967.572 180.213 994.191 188.773C1002.42 191.418 1010.64 194.063 1018.86 196.67C1053.69 207.713 1088.43 218.078 1122.7 224.862C1242.13 248.508 1355.65 228.654 1465.68 183.156L1465.68 555.679L0.321411 555.679L0.321406 497.581C125.564 537.14 244.822 532.224 354.488 456.508Z" stroke="url(#paint2_linear_52_2444)" stroke-opacity="0.2" stroke-width="0.642458" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
      <linearGradient id="paint0_linear_52_2444" x1="1573.39" y1="375.631" x2="468.8" y2="125.587" gradientUnits="userSpaceOnUse">
        <stop stop-color="#418CFE"/>
        <stop offset="1" stop-color="white" stop-opacity="0"/>
      </linearGradient>
      <linearGradient id="paint1_linear_52_2444" x1="1573.39" y1="375.631" x2="468.8" y2="125.587" gradientUnits="userSpaceOnUse">
        <stop stop-color="#418CFE"/>
        <stop offset="1" stop-color="white" stop-opacity="0"/>
      </linearGradient>
      <linearGradient id="paint2_linear_52_2444" x1="1473.02" y1="-100.072" x2="304.694" y2="-341.286" gradientUnits="userSpaceOnUse">
        <stop stop-color="#418CFE"/>
        <stop offset="1" stop-color="white" stop-opacity="0"/>
      </linearGradient>
    </defs>
  </svg>

  <section class="container community-footer">
    <p class="community-footer-title fade-in-up">{{t 'suggest_new_post'}}</p>
    <div class="fade-in-up">
      {{link 'new_post' topic_id=topic.id class='button button-primary'}}
    </div>
  </section>
</section>

